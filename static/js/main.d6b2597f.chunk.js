(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{26:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(8),s=c(18),i=c.n(s),o=(c(26),c.p+"static/media/TMDBlogo.da3f379f.svg"),d=c(3),j=c(9),l=c(11),h=c.n(l),b=c(0);function u(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),o=i[0],d=i[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=8c20094b9d32bd14049b323d7d8294d0",{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting movies:",e)})).then((function(e){return r(e)}))}),[]),Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US",{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting genre:",e)})).then((function(e){return d(e)}))}),[]),c&&c.results.sort((function(e,t){return e.release_date>t.release_date?-1:1})),Object(b.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:c?c.results.map((function(e,t){return Object(b.jsx)("div",{className:"card m-2 m-lg-4",children:Object(b.jsxs)(a.b,{to:{pathname:"/MoviePage",hash:"".concat(c.results[t].id),state:{id:c.results[t].id}},children:[Object(b.jsx)("img",{className:"card-img-top",src:"http://image.tmdb.org/t/p/w300/"+e.poster_path,alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:e.title}),o?e.genre_ids.map((function(e,t){for(var c="",n=0;n<o.genres.length;n++)e===o.genres[n].id&&(c=o.genres[n].name);return Object(b.jsx)("span",{className:"badge bg-warning text-dark m-1",children:c},t)})):Object(b.jsx)("p",{children:"Loading..."}),Object(b.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(b.jsx)("span",{children:h()(e.release_date).format("Do MMM YYYY")}),Object(b.jsxs)("span",{children:["Rating: ",e.vote_average]})]})]})]})},t)})):Object(b.jsx)("div",{children:"Loading..."})})}function p(){return Object(b.jsx)("header",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"Latest",children:"Latest"})}),Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"Search",children:"Search"})}),Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"Favorites",children:"Favorites"})})]})})}var m=c(20),f=c(21);function g(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),o=i[0],d=i[1],l=Object(n.useState)(!1),u=Object(j.a)(l,2),p=u[0],g=u[1],O=Object(n.useState)(!1),x=Object(j.a)(O,2),v=x[0],w=x[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US",{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting genre:",e)})).then((function(e){return w(e)}))}),[]),Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/search/movie?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US&page=1&include_adult=false&query="+p).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting movies:",e)})).then((function(e){return r(e)}))}),[p]),Object(n.useEffect)((function(){setTimeout((function(){p&&d(!0)}),200)}),[p]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"searchWrap",children:[Object(b.jsx)("input",{type:"text",placeholder:"Search"}),Object(b.jsx)("button",{onClick:function(){return g(document.querySelector("input").value)},children:Object(b.jsx)(m.a,{icon:f.a})})]}),Object(b.jsx)("div",{className:"d-flex flex-wrap justify-content-center",style:{minHeight:"65vh"},children:o?c.results.map((function(e,t){return Object(b.jsx)("div",{className:"card m-2 m-lg-4",children:Object(b.jsxs)(a.b,{to:{pathname:"/MoviePage",hash:"".concat(c.results[t].id),state:{id:c.results[t].id}},children:[Object(b.jsx)("img",{className:"card-img-top",src:"http://image.tmdb.org/t/p/w300/"+e.poster_path,alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:e.title}),v?e.genre_ids.map((function(e,t){for(var c="",n=0;n<v.genres.length;n++)e===v.genres[n].id&&(c=v.genres[n].name);return Object(b.jsx)("span",{className:"badge bg-warning text-dark m-1",children:c},t)})):Object(b.jsx)("p",{children:"Loading..."}),Object(b.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(b.jsx)("span",{children:h()(e.release_date).format("Do MMM YYYY")}),Object(b.jsxs)("span",{children:["Rating: ",e.vote_average]})]})]})]})},t)})):Object(b.jsx)("div",{})})]})}function O(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),o=i[0],d=i[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e.location.hash.slice(1),"?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US")).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting movie:",e)})).then((function(e){return a(e)}))}),[e.location.hash]),Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e.location.hash.slice(1),"/credits?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US")).then((function(e){return e.json()})).catch((function(e){return console.warn("error getting credits:",e)})).then((function(e){return d(e)}))}),[e.location.hash]),o&&o.cast.sort((function(e,t){return null===e.profile_path&&"null"!==t.profile_path?1:"null"!==e.profile_path&&null===t.profile_path?-1:0})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"movieContainer",children:[Object(b.jsx)("h1",{children:r.title}),Object(b.jsx)("h2",{children:r.tagline}),Object(b.jsx)("img",{className:"large",src:"http://image.tmdb.org/t/p/w780/"+r.backdrop_path,alt:""}),Object(b.jsx)("div",{className:"d-flex justify-content-around",children:r?r.genres.map((function(e,t){return Object(b.jsx)("span",{className:"badge bg-warning text-dark m-1",children:e.name},t)})):Object(b.jsx)("p",{children:"Loading genres..."})}),Object(b.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(b.jsxs)("span",{children:["Release date: ",h()(r.release_date).format("Do MMMM YYYY")]}),Object(b.jsxs)("span",{children:["Rating: ",r.vote_average]})]}),Object(b.jsx)("p",{children:r.overview})]}),Object(b.jsx)("div",{className:"peopleContainer d-flex flex-wrap justify-content-center",children:o?o.cast.map((function(e,t){return Object(b.jsxs)("div",{className:"person-card m-2 m-lg-4 d-flex flex-column",children:[Object(b.jsx)("img",{className:"card-img-top",src:"http://image.tmdb.org/t/p/w300/"+e.profile_path,alt:""}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("h5",{className:"card-title",children:e.name})})]},t)})):Object(b.jsx)("p",{children:"Loading cast..."})})]})}var x=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{}),Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/Latest",component:u}),Object(b.jsx)(d.b,{path:"/Search",component:g}),Object(b.jsx)(d.b,{path:"/MoviePage",component:O}),Object(b.jsx)(d.b,{path:"*",children:Object(b.jsx)(d.a,{to:"/Latest"})})]}),Object(b.jsxs)("footer",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Powered by:"}),Object(b.jsx)("img",{src:o,alt:"logo"})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Favicon made by ",Object(b.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(b.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})})]})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(x,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d6b2597f.chunk.js.map