{"version":3,"sources":["img/TMDBlogo.svg","components/MovieList.jsx","components/Navigation.jsx","components/Search.jsx","components/MoviePage.jsx","components/WatchList.jsx","App.js","index.js"],"names":["MovieList","useState","data","setData","genre","setGenre","useEffect","fetch","method","then","response","json","catch","e","console","warn","result","results","sort","a","b","release_date","className","map","item","i","to","pathname","hash","id","state","src","poster_path","alt","title","genre_ids","x","j","genreName","k","genres","length","name","moment","format","vote_average","Navigation","Search","setSearchedData","ready","setDelay","searched","handleSearch","page","setPage","log","setTimeout","type","placeholder","onClick","document","querySelector","value","icon","faSearch","disabled","total_pages","style","minHeight","MoviePage","props","movieData","credits","setCredits","guestID","setGuestID","location","slice","guest_session_id","cast","profile_path","tagline","backdrop_path","overview","localStorage","getItem","JSON","parse","push","setItem","stringify","addToWatchList","min","max","movieID","rating","alert","headers","body","status","statusText","addRating","person","WatchList","emptyList","setListStatus","dataLength","setLength","currentStorage","classes","split","splice","removeFromWatchList","target","App","path","component","logo","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3fdcce9d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/TMDBlogo.da3f379f.svg\";","import { useState, useEffect } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport moment from \"moment\";\n\n\nexport default function MovieList() {\n\n    const [data, setData] = useState(false);\n    const [genre, setGenre] = useState(false);\n\n    // Get trending movies of latest week\n    useEffect(() => {\n        fetch('https://api.themoviedb.org/3/trending/movie/week?api_key=8c20094b9d32bd14049b323d7d8294d0', \n        { method: 'GET' })\n            .then(response => response.json())\n            .catch(e => console.warn('error getting movies:', e))\n            .then(result => setData(result));\n    }, []);\n\n    // Get the Genre array to translate genre_ids \n    useEffect(() => {\n        fetch('https://api.themoviedb.org/3/genre/movie/list?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US', \n        { method: 'GET' })\n            .then(response => response.json())\n            .catch(e => console.warn('error getting genre:', e))\n            .then(result => setGenre(result));\n    }, []);\n    \n    // Sort by descending release date\n    if (data) {\n        data.results.sort((a, b) => {\n            if (a.release_date > b.release_date) {\n                return -1;\n            } else {\n                return 1;\n            }\n        })\n    }\n\n    return (\n        <div className=\"d-flex flex-wrap justify-content-center\">\n            {data ?\n            data.results.map((item, i) => \n            <div key={i} className=\"card m-2 m-lg-4\"><NavLink to={{\n                pathname:'/MoviePage',\n                hash: `${data.results[i].id}`,\n                state: {id: data.results[i].id}  \n              }}>\n                <img className=\"card-img-top\" src={\"http://image.tmdb.org/t/p/w300/\" + item.poster_path} alt=\"\" />\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">{item.title}</h5>\n                    { genre ?\n                    // Translate genre ID to genre Name\n                    item.genre_ids.map((x, j) => {\n                        let genreName = '';\n                        for (let k = 0; k < genre.genres.length; k++) {\n                            if (x === genre.genres[k].id) {\n                                genreName = genre.genres[k].name;\n                            }\n                        }\n                        return <span key={j} className=\"badge bg-warning text-dark m-1\">{genreName}</span>\n                    }) :\n                    <p>Loading...</p>}\n                    <div className=\"d-flex justify-content-around\">\n                        <span>{moment(item.release_date).format(\"Do MMM YYYY\")}</span>\n                        <span>Rating: {item.vote_average}</span>\n                    </div>\n                </div>\n            </NavLink></div>):\n            <div>Loading...</div>}\n        </div>\n    )\n}","import { NavLink } from \"react-router-dom\";\n\nexport default function Navigation() {\n    return <header>\n        <ul>\n            <li><NavLink to=\"Latest\">Latest</NavLink></li>\n            <li><NavLink to=\"Search\">Search</NavLink></li>\n            <li><NavLink to=\"watchList\">Watch List</NavLink></li>\n        </ul>\n    </header>\n}","import { useState, useEffect } from 'react';\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { NavLink } from \"react-router-dom\";\n\n\nexport default function Search() {\n\n    const [data, setSearchedData] = useState(false);\n    const [ready, setDelay] = useState(false);\n    const [searched, handleSearch] = useState(false);\n    const [genre, setGenre] = useState(false);\n    const [page, setPage] = useState(1);\n\n    // Get the Genre array to translate genre_ids \n    useEffect(() => {\n        fetch('https://api.themoviedb.org/3/genre/movie/list?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US', \n        { method: 'GET' })\n            .then(response => response.json())\n            .catch(e => console.warn('error getting genre:', e))\n            .then(result => setGenre(result));\n    }, []);\n\n    // Get searched movies:\n    useEffect(() => {\n            fetch(`https://api.themoviedb.org/3/search/movie?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US&page=${page}&include_adult=false&query=` + searched)\n                .then(response => response.json())\n                .catch(e => console.warn('error getting movies:', e))\n                .then(result => {\n                    console.log(result);\n                    setSearchedData(result)\n                })\n            \n    }, [searched, page])\n\n    // Add a 200 second delay to update searched before displaying (else it would display 'false' as searched)\n    useEffect(() => {\n        setTimeout(() => {\n            if (searched) {\n                setDelay(true)\n            }\n         }, 200);\n    }, [searched])\n\n    return (<>\n        <div className=\"searchWrap\">\n            <input type=\"text\" placeholder='Search' />\n            <button onClick={() => handleSearch(document.querySelector(\"input\").value)}><FontAwesomeIcon icon={faSearch} /></button>\n        </div>\n        { ready ? <div className=\"pages d-flex flex-row justify-content-between mx-md-5 my-2 my-md-0\">\n            {page === 1 ? \n            <button disabled>Previous Page</button> : \n            <button onClick={() => setPage(page - 1)}>Previous Page</button>}\n            {page === data.total_pages ? \n            <button disabled>Next Page</button> : \n            <button onClick={() => setPage(page + 1)}>Next Page</button>}\n         </div>:\n        <></> }\n        <div className=\"d-flex flex-wrap justify-content-center\" style={{minHeight: \"65vh\"}}>\n            {ready ?\n            data.results.map((item, i) => \n            <div key={i} className=\"card m-2 m-lg-4\"><NavLink to={{\n                pathname:'/MoviePage',\n                hash: `${data.results[i].id}`,\n                state: {id: data.results[i].id}  \n              }}>\n                <img className=\"card-img-top\" src={\"http://image.tmdb.org/t/p/w300/\" + item.poster_path} alt=\"\" />\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">{item.title}</h5>\n                    { genre ?\n                    // Translate genre ID to genre Name\n                    item.genre_ids.map((x, j) => {\n                        let genreName = '';\n                        for (let k = 0; k < genre.genres.length; k++) {\n                            if (x === genre.genres[k].id) {\n                                genreName = genre.genres[k].name;\n                            }\n                        }\n                        return <span key={j} className=\"badge bg-warning text-dark m-1\">{genreName}</span>\n                    }) :\n                    <p>Loading...</p>}\n                    <div className=\"d-flex justify-content-around\">\n                        <span>{moment(item.release_date).format(\"Do MMM YYYY\")}</span>\n                        <span>Rating: {item.vote_average}</span>\n                    </div>\n                </div>\n            </NavLink></div>):\n            <div></div>}\n        </div>\n    </>)\n}","import { useState, useEffect } from 'react';\nimport moment from \"moment\";\n\nexport default function MoviePage(props) {\n\n    const [movieData, setData] = useState(false);\n    const [credits, setCredits] = useState(false);\n    const [guestID, setGuestID] = useState(false);\n\n    // Get movie information\n    useEffect(() => {\n        fetch(`https://api.themoviedb.org/3/movie/${props.location.hash.slice(1)}?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US`)\n            .then(response => response.json())\n            .catch(e => console.warn('error getting movie:', e))\n            .then(result => setData(result));\n    }, [props.location.hash]);\n\n    // Get cast information\n    useEffect(() => {\n        fetch(`https://api.themoviedb.org/3/movie/${props.location.hash.slice(1)}/credits?api_key=8c20094b9d32bd14049b323d7d8294d0&language=en-US`)\n            .then(response => response.json())\n            .catch(e => console.warn('error getting credits:', e))\n            .then(result => setCredits(result));\n    }, [props.location.hash]);\n\n    // Get guestID information\n    useEffect(() => {\n        fetch(` https://api.themoviedb.org/3/authentication/guest_session/new?api_key=8c20094b9d32bd14049b323d7d8294d0`)\n            .then(response => response.json())\n            .catch(e => console.warn('error getting guestID:', e))\n            .then(result => setGuestID(result));\n    }, [props.location.hash]);\n        \n    console.log('guestID', guestID.guest_session_id);\n\n    // Sort by cast by photo availability\n    if (credits) {\n        credits.cast.sort((a, b) => {\n            if (a.profile_path === null && b.profile_path !== 'null') {\n                return 1;\n            } if (a.profile_path !== 'null' && b.profile_path === null) {\n                return -1;\n            } else {\n                return 0;\n            }\n        })\n    }\n\n    function addToWatchList(movieData) {\n        let placeholder = [];\n        // Check if localStorage is empty\n        if (localStorage.getItem('watchList') != null) {\n            placeholder = JSON.parse(localStorage.getItem('watchList'));\n            // Check if movie is already in the watchList:\n            for (const movie of placeholder) {\n                if (movie.title === movieData.title) {\n                    return;\n                }\n            }\n        }\n        placeholder.push(movieData);\n        localStorage.setItem('watchList', JSON.stringify(placeholder));\n    }\n\n    function addRating(movieID, guestID, rating) {\n        if (rating < 0.5 || rating > 10) {\n            alert('Rating must be between 0.5 and 10')\n        } else {\n            fetch(`https://api.themoviedb.org/3/movie/${movieID}/rating?${rating}api_key=8c20094b9d32bd14049b323d7d8294d0&guest_session_id=${guestID.guest_session_id}`,\n                { \n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json;charset=utf-8', },\n                    body: JSON.stringify({ \"value\": rating })\n                })\n                .then(response => {\n                    if (response.status === 401) {\n                        console.warn(response.statusText)\n                    }\n                    return response.json();\n                })\n                .catch(e => console.warn('error getting guestID:', e))\n                .then(result => console.log('Success:', result))\n        };\n    }\n\n    return <>\n        <div className=\"movieContainer\">\n            <h1>{movieData.title}</h1>\n            <h2>{movieData.tagline}</h2>\n            <img className=\"large\" src={\"http://image.tmdb.org/t/p/w780/\" + movieData.backdrop_path} alt=\"\"></img>\n            <div className=\"d-flex justify-content-around\">\n                {movieData ?\n                movieData.genres.map((x, j) => <span key={j} className=\"badge bg-warning text-dark m-1\">{x.name}</span>):\n                <p>Loading genres...</p>}\n            </div>\n            <div className=\"d-flex justify-content-around\">\n                <span>Release date: {moment(movieData.release_date).format(\"Do MMMM YYYY\")}</span>\n                <span>Rating: {movieData.vote_average}</span>\n            </div>\n            <p>{movieData.overview}</p>\n            <button className=\"btn btn-success\" onClick={() => addToWatchList(movieData)}>+ Add to watch list</button>\n            <div className=\"ratingContainer\">\n                <input type=\"number\" placeholder='Rating' min=\"0.5\" max=\"10\"/>\n                <button className=\"btn btn-light\" onClick={() => addRating(movieData.id, guestID, document.querySelector(\"input\").value)}>Rate Movie</button>\n            </div>\n        </div>\n        <div className=\"peopleContainer d-flex flex-wrap justify-content-center\">\n            {credits ?\n            credits.cast.map((person, i) =>\n                <div key={i} className=\"person-card m-2 m-lg-4 d-flex flex-column\">\n                    <img className=\"card-img-top\" src={\"http://image.tmdb.org/t/p/w300/\" + person.profile_path} alt=\"\" />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{person.name}</h5>\n                    </div>\n                </div>\n            ):\n            <p>Loading cast...</p>}\n        </div>\n    </>\n}","import { useState, useEffect } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport moment from \"moment\";\n\nexport default function WatchList() {\n    \n    const [data, setData] = useState(false);\n    const [emptyList, setListStatus] = useState(true);\n    const [dataLength, setLength] = useState(false);\n\n    const currentStorage = JSON.parse(localStorage.getItem('watchList'));\n    \n\n    // Get movies from local storage\n    useEffect(() => {\n        // check if localStorage was used:\n        if (localStorage.getItem('watchList')) {\n            setData(JSON.parse(localStorage.getItem('watchList')));\n            setListStatus(false);\n        }\n    }, []);\n\n    useEffect(() => {\n        setData(currentStorage);\n    }, [dataLength]);\n\n    function removeFromWatchList(item) {\n        const classes = item.className.split(\" \")\n        currentStorage.splice(classes[0], 1);\n        // check if localStorage was cleared:\n        if (currentStorage.length === 0) {\n            setListStatus(true);\n        }\n        localStorage.setItem('watchList', JSON.stringify(currentStorage));\n        setLength(currentStorage.length);\n    }\n\n    return (\n        <div className=\"d-flex flex-wrap justify-content-center\">\n            {emptyList ?\n            <p>Your watch list is empty.</p> :\n            data ?\n            data.map((item, i) => <div className=\"m-2 m-lg-4\">\n            <div key={i} className=\"card\"><NavLink to={{\n                pathname:'/MoviePage',\n                hash: `${data[i].id}`,\n                state: {id: data[i].id}  \n              }}>\n                <img className=\"card-img-top\" src={\"http://image.tmdb.org/t/p/w300/\" + item.poster_path} alt=\"\" />\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">{item.title}</h5>\n                    { item.genres.map((x, j) => {\n                        return <span key={j} className=\"badge bg-warning text-dark m-1\">{x.name}</span>\n                    })}\n                    <div className=\"d-flex justify-content-around\">\n                        <span>{moment(item.release_date).format(\"Do MMM YYYY\")}</span>\n                        <span>Rating: {item.vote_average}</span>\n                    </div>\n                </div>\n            </NavLink></div>\n            <button className={i + \" btn btn-danger\"} onClick={(e) => removeFromWatchList(e.target)}>Remove from watch list</button>\n            </div>):\n            <div>Loading...</div>}\n        </div>\n    )\n}","import './App.scss';\nimport logo from './img/TMDBlogo.svg';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport MovieList from './components/MovieList';\nimport Navigation from './components/Navigation';\nimport Search from './components/Search';\nimport MoviePage from './components/MoviePage';\nimport WatchList from './components/WatchList';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Navigation />\n      <Switch>\n        <Route path='/Latest' component={MovieList} />\n        <Route path='/Search' component={Search} />\n        <Route path='/MoviePage' component={MoviePage} />\n        <Route path='/watchList' component={WatchList} />\n        <Route path='*'>\n          <Redirect to=\"/Latest\" />\n        </Route>\n      </Switch>\n      <footer>\n        <div>\n        <p>Powered by:</p><img src={logo} alt=\"logo\"/>\n        </div>\n      <div><p>Favicon made by <a href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></p></div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter><App /></HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}